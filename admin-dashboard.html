<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Backup, Sync & Performance Testing</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
            margin: 0;
            padding: 0;
        }
        .header {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        .card {
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 25px;
            margin-bottom: 30px;
        }
        h2 {
            text-align: center;
            color: #2c3e50;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            font-weight: bold;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 4px;
            background-color: #3498db;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .backup-status, .performance-status, .sync-test-results {
            margin-top: 20px;
            font-size: 16px;
            color: #2c3e50;
        }
        .before-after, .latency {
            margin-top: 10px;
            font-size: 16px;
        }
        .before-after span, .latency span {
            font-weight: bold;
        }
        .test-case { margin-bottom: 30px; border: 1px solid #ddd; padding: 15px; border-radius: 5px; }
        .passed { background-color: #e6f7e6; border-left: 5px solid #4CAF50; }
        .failed { background-color: #ffebee; border-left: 5px solid #f44336; }
        table { width: 100%; border-collapse: collapse; margin: 10px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
    </style>
</head>
<body>

    <div class="header">
        <h1>Admin Dashboard</h1>
        <p>Manage Clinic System Testing: Backup, Synchronization & Performance Optimization</p>
    </div>

    <div class="container">
        <!-- Backup & Recovery Test Card -->
        <div class="card">
            <h2>Test Backup Operations</h2>
            <button onclick="simulateBackup()">Simulate Backup</button>

            <div class="backup-status">
                <p id="backupStatus">Backup status will be shown here.</p>
            </div>

            <div class="before-after">
                <label>Backup Frequency:</label>
                <p><span id="backupFrequency">Not tested yet</span></p>
            </div>

            <div class="before-after">
                <label>Backup Efficiency:</label>
                <p><span id="backupEfficiency">Not tested yet</span></p>
            </div>
        </div>

        <!-- Performance Optimization Test Card -->
        <div class="card">
            <h2>Run Performance Optimization</h2>
            <button onclick="runPerformanceTest()">Run Performance Test</button>

            <div class="performance-status">
                <p id="performanceStatus">Performance test results will be shown here.</p>
            </div>

            <div class="before-after">
                <label>Before Optimization:</label>
                <p><span id="beforeOptimization">Not tested yet</span></p>
            </div>

            <div class="before-after">
                <label>After Optimization:</label>
                <p><span id="afterOptimization">Not tested yet</span></p>
            </div>
        </div>

        <!-- Real-Time Data Sync Test Results -->
        <div class="card sync-test-results">
            <h2>Real-Time Data Sync Test Results</h2>
            <p class="timestamp">Test conducted on: <span id="current-date"></span></p>

            <!-- Test Case 1: Basic Data Update -->
            <div class="test-case passed">
                <h3>Test Case 1: Basic Data Synchronization</h3>
                <h4>1. Before Update</h4>
                <table>
                    <tr>
                        <th>Database</th>
                        <th>Record ID</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>Primary DB (Source)</td>
                        <td>babina</td>
                        <td>Active</td>
                    </tr>
                    <tr>
                        <td>Replica DB 1</td>
                        <td>Dinesh</td>
                        <td>Active</td>
                    </tr>
                </table>

                <h4>2. Update Action</h4>
                <p>Changed status from <strong>Active</strong> to <strong>Inactive</strong> in Primary DB.</p>

                <h4>3. After Update (Results)</h4>
                <table>
                    <tr>
                        <th>Database</th>
                        <th>Sync Status</th>
                        <th>Latency</th>
                        <th>New Status</th>
                    </tr>
                    <tr>
                        <td>Replica DB 1</td>
                        <td>✅ Success</td>
                        <td class="latency">320ms</td>
                        <td>Inactive</td>
                    </tr>
                </table>
            </div>

            <!-- Test Case 2: Latency Test -->
            <div class="test-case passed">
                <h3>Test Case 2: Latency Measurement</h3>
                <p>Average sync latency across 10 updates: <span class="latency">450ms</span></p>
                <p>Max latency observed: <span class="latency">920ms</span></p>
            </div>

            <!-- Test Case 3: Error Handling -->
            <div class="test-case failed">
                <h3>Test Case 3: Conflict Detection</h3>
                <p>❌ Error: Replica DB 2 did not sync (Timeout after 5s).</p>
                <table>
                    <tr>
                        <th>Database</th>
                        <th>Status</th>
                    </tr>
                    <tr>
                        <td>Primary DB</td>
                        <td>Inactive</td>
                    </tr>
                    <tr>
                        <td>Replica DB 2</td>
                        <td>Active (Outdated)</td>
                    </tr>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Auto-populate current date for sync test
        document.getElementById('current-date').textContent = new Date().toLocaleString();

        // Function to simulate backup operation
        function simulateBackup() {
            document.getElementById('backupStatus').textContent = 'Backup in progress...';

            setTimeout(function() {
                document.getElementById('backupStatus').textContent = 'Backup completed successfully!';
                document.getElementById('backupFrequency').textContent = 'Once every 24 hours';  // Example frequency
                document.getElementById('backupEfficiency').textContent = 'Completed in 30 seconds';  // Example efficiency
            }, 3000);  // Simulating a 3-second backup time
        }

        // Function to simulate performance test (before and after optimization)
        function runPerformanceTest() {
            document.getElementById('performanceStatus').textContent = 'Running performance test...';

            setTimeout(function() {
                document.getElementById('performanceStatus').textContent = 'Performance test completed successfully!';
                document.getElementById('beforeOptimization').textContent = 'Execution Time: 500ms';  // Example before optimization
                document.getElementById('afterOptimization').textContent = 'Execution Time: 250ms';  // Example after optimization
            }, 3000);  // Simulating a 3-second processing time
        }
    </script>

</body>
</html>
